services:
  - type: web
    name: whatsapp-backend
    env: docker
    plan: starter
    repo: .
    branch: main
    buildCommand: ''
    dockerContext: whatsapp-backend
    dockerfilePath: Dockerfile
    envVars:
      - key: WA_DATA_PATH
        value: /data/wwebjs_auth
        scope: private
      - key: PUPPETEER_EXECUTABLE_PATH
        value: /usr/bin/chromium
        scope: private
    disks:
      - name: whatsapp-backend-data
        size_gb: 10
        mount_path: /data
    health_check:
      path: /status
      protocol: http
      interval_seconds: 10
      timeout_seconds: 5
      healthy_threshold: 1
      unhealthy_threshold: 3
